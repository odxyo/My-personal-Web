{%extends 'backend/dashbord/bashbord.html' %}{%load static%}{% block navsetting %}
<link rel="stylesheet" href="{% static 'css/index.css' %}">

<body>

    <div class="shadow-sm  container  back--top">
        <div class="icon--cancel ">
            <a href="#" onclick="history.back()"> <i class="bi bi-arrow-left-short fs-2 "></i></a>
        </div>

        <h3 class="text-dark ">Get a new portfolio</h3>

        <div>
            <div>
                {%if submitted %}
                <p class="text-danger ">Your new Portfolio was submitted Sucessfully!!</p>
                {%else%}
                <!-- portfolio -->
                <form class="row container pt-xl-5 " method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    <label for="browser ">Choose your job from the list:</label>

                    <div class="col-lg-6 mb-5 ">

                        <input list="browsers " name="i_do " id="browser " class="mb-3 ">
                        <datalist id="browsers "> 
                          <option {{form.i_do}}>
                        </datalist>

                        <div class="mb-3 ">
                            <strong><label for=" ">Image</label></strong>
                            <input type="file" id="image_input" name="port_pic" class="shadow-none " accept="image/jpg, iamge/png " required>
                            <div id="display_image" class="mt-4 " style="width: 30rem; height: 30rem; object-fit:cover; border: 1px solid black; background-position: center; background-size: cover; background-repeat: no-repeat; "></div>
                        </div>
                    </div>

                    <div class="mb-3 ">
                        <strong><label for=" "> Name's Work</label></strong>

                        <input type="text " name="name_work " class="form-control " required {{form.name_work}} </div>
                        <div class="mb-3 ">
                            <strong><label for=" ">Title</label></strong>

                            <input type="text " name="title " class="form-control " required {{form.title}} </div>
                            <div class="mb-3 ">
                                <strong><label for=" ">like</label></strong>

                                <input type="number " name="like " class=" form-control " required {{form.like}} </div>



                                <div class="mb-3 ">
                                    <strong><label for="about ">Explain</label></strong>
                                    <textarea id="about " name="explain " rows="10 " class="form-control " required></textarea>
                                </div>

                                <div class="mb-5 row ">
                                    <button type="submit " class="rn-btn send--form m-1 ">
                                <span>Add</span>
                            </button>
                                    <button class="rn-btn send--form m-1 ">
                            <a href="{%url 'newjob' %} " class="text-white nav-link p-0 "> Cancel</a>
                            </button>

                                </div>
                            </div>

                </form>
                </div>
                </div>
                {%endif%}

            </div>
            <style>
                .hh {
                    background: rgb(107, 107, 107);
                }
                
                h3,
                tr {
                    color: aliceblue;
                }
            </style>

            <script>
                const image_input = document.querySelector("#image_input");
                var upload_image = " ";

                image_input.addEventListener("change", function() {
                    const reader = new FileReader();
                    reader.addEventListener("load", () => {
                        upload_image = reader.result;
                        document.querySelector("#display_image").style.backgroundImage = `url(${upload_image})`;

                    });
                    reader.readAsDataURL(this.files[0]);
                })
            </script>
</body>

{%endblock%}